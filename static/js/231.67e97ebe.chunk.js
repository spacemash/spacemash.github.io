"use strict";(self.webpackChunksoft_ui_dashboard_pro_react=self.webpackChunksoft_ui_dashboard_pro_react||[]).push([[231],{7231:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var n=s(9950),a=s(4919),i=s(3274),l=s(1323),r=s(6186),o=s(4695),c=s.n(o),d=s(3474),h=s(5165),u=s(3464),x=s(9739),g=s(8170),f=s(33),j=s(899),A=(s(1171),s(5345)),m=s(982),y=s(136),b=s(4414);function p(e){let{item:t,refetch:s}=e;const[o,p]=(0,n.useState)(!1),[C,k]=(0,n.useState)(t),[v,w]=(0,n.useState)({}),B=()=>{p(!1)},_=(e,t)=>{let s=e.target.value.replace(/[^0-9]/g,"");s.length>4&&(s=s.slice(0,4)),s.length>=3&&(s=`${s.slice(0,2)}:${s.slice(2,4)}`),k({...C,[t]:s})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.A,{variant:"body1",color:"secondary",sx:{cursor:"pointer",lineHeight:0},onClick:()=>{p(!0)},children:(0,b.jsx)(i.A,{title:"yangilash",placement:"top",children:(0,b.jsx)(a.A,{children:"edit"})})}),(0,b.jsxs)(u.A,{open:o,onClose:B,size:"xs",fullWidth:!0,children:[(0,b.jsx)(f.A,{children:"Guruhni yangilash"}),(0,b.jsx)(g.A,{style:{overflow:"visible"},children:(0,b.jsxs)(j.Ay,{container:!0,spacing:2,mb:2,children:[(0,b.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsxs)(l.A,{children:[(0,b.jsxs)(r.A,{variant:"subtitle2",children:["Boshlanish vaqti ",(0,b.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,b.jsx)(A.A,{type:"text",defaultValue:C.start,onChange:e=>_(e,"start"),error:!!v.start})]})}),(0,b.jsx)(j.Ay,{item:!0,xs:12,sm:6,children:(0,b.jsxs)(l.A,{children:[(0,b.jsxs)(r.A,{variant:"subtitle2",children:["Tugash vaqti ",(0,b.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,b.jsx)(A.A,{type:"text",defaultValue:C.end,onChange:e=>_(e,"end"),error:!!v.end})]})}),(0,b.jsx)(j.Ay,{item:!0,xs:12,children:(0,b.jsx)(m.A,{error:!!v.status,defaultValue:(e=>{switch(e.status){case 1:return{label:(0,b.jsx)(y.A,{variant:"contained",color:"success",size:"xs",badgeContent:"Faol",container:!0}),value:1};case 2:return{label:(0,b.jsx)(y.A,{variant:"contained",color:"secondary",size:"xs",badgeContent:"Yakunlandi",container:!0}),value:2};default:return}})(C),options:[{value:1,label:(0,b.jsx)(y.A,{variant:"contained",color:"success",size:"xs",badgeContent:"Faol",container:!0})},{value:2,label:(0,b.jsx)(y.A,{variant:"contained",color:"secondary",size:"xs",badgeContent:"Yakunlandi",container:!0})}],onChange:e=>k({...C,status:e.value})})})]})}),(0,b.jsxs)(x.A,{children:[(0,b.jsx)(h.A,{onClick:B,children:"Bekor qilish"}),(0,b.jsx)(h.A,{onClick:async()=>{if((()=>{const e={};return C.start.match(/^([01]\d|2[0-3]):([0-5]\d)$/)||(e.start=!0),C.end.match(/^([01]\d|2[0-3]):([0-5]\d)$/)||(e.end=!0),0===C.status.length&&(e.status=!0),w(e),0===Object.keys(e).length})())try{const e=c().fire({title:"Yangilanyapti...",text:"Biroz kuting!",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{c().showLoading()}}),t=await d.YJ.update(C);e.close(),(e=>{e.ok?(k({}),p(!1),c().fire("Yangilandi",e.message,"success").then((()=>s(e.data)))):c().fire("Xatolik",e.error,"error")})(t)}catch(e){console.log(e)}},children:"Yangilash"})]})]})]})}function C(e){let{item:t,refetch:s}=e;return(0,b.jsxs)(l.A,{display:"flex",alignItems:"center",children:[(0,b.jsx)(l.A,{mx:2,children:(0,b.jsx)(p,{item:t,refetch:s})}),(0,b.jsx)(r.A,{variant:"body1",onClick:()=>(async e=>{try{const t=c().mixin({customClass:{confirmButton:"button button-success",cancelButton:"button button-error"},buttonsStyling:!1});t.fire({title:"Chetlatish!",text:"Diqqat: ushbu xolatda guruh chetlatiladi va sahifadan olib chetlatilgan guruhlar bo'limiga qo'shiladi!",showCancelButton:!0,confirmButtonText:"Chetlatish",cancelButtonText:"Bekor qilish",reverseButtons:!0}).then((async n=>{if(n.isConfirmed){const n=c().fire({title:"Chetlatilmoqda...",text:"Biroz kuting!",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{c().showLoading()}}),a=await d.YJ.excluded(e);n.close(),a.ok?t.fire("Chetlatildi",a.message,"success").then((()=>{s(a.data)})):t.fire("Xatolik!",a.error,"error")}}))}catch(t){console.error(t.message)}})(t.group_id),color:"secondary",sx:{cursor:"pointer",lineHeight:0},children:(0,b.jsx)(i.A,{title:"chetlatish",placement:"top",children:(0,b.jsx)(a.A,{children:"delete"})})})]})}}}]);