"use strict";(self.webpackChunksoft_ui_dashboard_pro_react=self.webpackChunksoft_ui_dashboard_pro_react||[]).push([[651],{3651:(e,t,s)=>{s.r(t),s.d(t,{default:()=>A});var i=s(9950),l=s(4919),a=s(3274),n=s(1323),r=s(6186),o=s(4695),c=s.n(o),h=s(3474),d=s(5165),u=s(3464),x=s(9739),f=s(8170),m=s(33),j=s(899),g=(s(1171),s(5345)),y=(s(136),s(982),s(4414));function p(e){var t,s,o;let{item:p,refetch:A}=e;const[b,C]=(0,i.useState)(!1),[v,k]=(0,i.useState)(p),w=()=>{C(!1)},B=e=>{e.ok?(c().fire("Yangilandi",e.message,"success").then((()=>{A()})),C(!1)):c().fire("Error",e.message||e.error,"error")};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(r.A,{variant:"body1",color:"secondary",sx:{cursor:"pointer",lineHeight:0},onClick:()=>{k(p),C(!0)},children:(0,y.jsx)(a.A,{title:"yangilash",placement:"top",children:(0,y.jsx)(l.A,{children:"edit"})})}),(0,y.jsxs)(u.A,{open:b,onClose:w,size:"xs",fullWidth:!0,children:[(0,y.jsx)(m.A,{children:"Yangilash"}),(0,y.jsx)(f.A,{style:{overflowY:"visible"},children:(0,y.jsxs)(j.Ay,{container:!0,spacing:2,children:[(0,y.jsx)(j.Ay,{item:!0,xs:12,children:(0,y.jsxs)(n.A,{children:[(0,y.jsxs)(r.A,{variant:"subtitle2",children:["Ism familya ",(0,y.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,y.jsx)(g.A,{disabled:null===(t=4===v.status)||void 0===t||t,type:"text",value:v.name,onChange:e=>k({...v,name:e.target.value})})]})}),(0,y.jsx)(j.Ay,{item:!0,xs:12,children:(0,y.jsxs)(n.A,{children:[(0,y.jsxs)(r.A,{variant:"subtitle2",children:["Telefon ",(0,y.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,y.jsx)(g.A,{disabled:null===(s=4===v.status)||void 0===s||s,type:"text",value:v.phone,onChange:e=>k({...v,phone:e.target.value})})]})}),(0,y.jsx)(j.Ay,{item:!0,xs:12,children:(0,y.jsxs)(n.A,{children:[(0,y.jsxs)(r.A,{variant:"subtitle2",children:["Tug'ilgan kun ",(0,y.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,y.jsx)(g.A,{disabled:null===(o=4===v.status)||void 0===o||o,type:"date",value:v.birthday,onChange:e=>k({...v,birthday:e.target.value})})]})})]})}),(0,y.jsxs)(x.A,{children:[(0,y.jsx)(d.A,{onClick:w,children:"Bekor qilish"}),(0,y.jsx)(d.A,{style:{color:4===v.status?"#ea0606":"#17c1E8"},onClick:async()=>{if(v.name&&v.phone&&v.birthday||(c().fire("Xato","Barcha maydonlar to'ldirilishi shart","error"),0))try{const e=c().fire({title:"Yangilanmoqda...",text:"Biroz kuting!",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{c().showLoading()}}),t=await h.AY.update(v);e.close(),B(t)}catch(e){console.log("Error from handleSave from update Course: ",e)}},children:4===v.status?"chetlatish":"Yangilash"})]})]})]})}function A(e){let{item:t,refetch:s}=e;return(0,y.jsxs)(n.A,{display:"flex",alignItems:"center",children:[(0,y.jsx)(n.A,{mx:2,children:(0,y.jsx)(p,{item:t,refetch:s})}),(0,y.jsx)(r.A,{variant:"body1",onClick:()=>(async e=>{try{const t=c().mixin({customClass:{confirmButton:"button button-success",cancelButton:"button button-error"},buttonsStyling:!1});t.fire({title:"Chetlatish!",text:"Diqqat: ushbu xolatda ustoz chetlatiladi va sahifadan olib chetlatilgan ustozlar bo'limiga qo'shiladi!",showCancelButton:!0,confirmButtonText:"O'Chetlatish",cancelButtonText:"Bekor qilish",reverseButtons:!0}).then((async i=>{if(i.isConfirmed){const i=c().fire({title:"Chetlatilmoqda...",text:"Biroz kuting!",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{c().showLoading()}}),l=await h.AY.excluded(e);i.close(),l.ok?t.fire("Chetlatildi",l.message,"success").then((()=>{s()})):t.fire("Xatolik!",l.message,"error")}}))}catch(t){console.error(t.message)}})(t.id),color:"secondary",sx:{cursor:"pointer",lineHeight:0},children:(0,y.jsx)(a.A,{title:"chetlatish",placement:"top",children:(0,y.jsx)(l.A,{children:"delete"})})})]})}}}]);