"use strict";(self.webpackChunksoft_ui_dashboard_pro_react=self.webpackChunksoft_ui_dashboard_pro_react||[]).push([[375],{4375:(e,r,s)=>{s.r(r),s.d(r,{default:()=>k});var i=s(9950),t=s(8429),a=s(5165),n=s(3464),l=s(9739),o=s(8170),c=s(33),h=s(899),d=s(1171),u=s(5345),x=s(982),j=s(1323),p=s(6186),f=(s(136),s(4695)),A=s.n(f),m=s(3474),y=s(1240),g=s(4414);function k(e){let{setData:r}=e;const[s,f]=(0,i.useState)(!1),[k,v]=(0,i.useState)({}),[C,_]=(0,i.useState)({}),[b,w]=(0,i.useState)([]),K=(0,t.Zp)();(0,i.useEffect)((()=>{(async()=>{try{const e=await m.AY.getAll();w(e.data)}catch(e){console.error("Error fetching teachers: ",e)}})()}),[]);const S=()=>{f(!1),v({}),_({})},z=b.map((e=>({label:e.name,value:e.id})));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.A,{variant:"gradient",color:"info",onClick:()=>{f(!0)},children:"Yangi kurs"}),(0,g.jsxs)(n.A,{minHeight:"600px",open:s,onClose:S,size:"xs",fullWidth:!0,children:[(0,g.jsx)(c.A,{children:"Kurs qo'shish"}),(0,g.jsx)(o.A,{style:{overflowY:"visible"},children:(0,g.jsxs)(h.Ay,{container:!0,spacing:2,children:[(0,g.jsx)(h.Ay,{item:!0,xs:12,children:(0,g.jsxs)(j.A,{children:[(0,g.jsxs)(p.A,{variant:"subtitle2",children:["Ustoz ",(0,g.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,g.jsx)(x.A,{error:!!C.teacher_id,options:z,onChange:e=>v({...k,teacher_id:e.value})})]})}),(0,g.jsx)(h.Ay,{item:!0,xs:12,children:(0,g.jsxs)(j.A,{children:[(0,g.jsxs)(p.A,{variant:"subtitle2",children:["Kurs nomi ",(0,g.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,g.jsx)(u.A,{error:!!C.name,type:"text",placeholder:"Kurs nomi",onChange:e=>v({...k,name:e.target.value})})]})}),(0,g.jsx)(h.Ay,{item:!0,xs:12,children:(0,g.jsxs)(j.A,{children:[(0,g.jsxs)(p.A,{variant:"subtitle2",children:["Kurs narxi so'm/oy ",(0,g.jsx)("span",{style:{color:"#f009"},children:"*"})]}),(0,g.jsx)(u.A,{error:!!C.price,type:"text",placeholder:"300000",onChange:e=>v({...k,price:e.target.value})})]})})]})}),(0,g.jsxs)(l.A,{children:[(0,g.jsx)(a.A,{onClick:S,children:"Bekor qilish"}),(0,g.jsx)(a.A,{onClick:async()=>{if((()=>{let e={};return k.teacher_id||(e.teacher_id="Ustoz tanlanishi shart."),k.name||(e.name="Kurs nomi kiritilishi shart."),k.price||(e.price="Kurs narxi kiritilishi shart."),_(e),0===Object.keys(e).length})())try{const e=A().fire({title:"Yaratilmoqda...",text:"Biroz kuting!",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1,didOpen:()=>{A().showLoading()}}),r=await m.ae.create(k);e.close(),(e=>{e.ok?(y.y8.fire({icon:"success",title:e.message}),K(`/kurslar/${e.data.slug}`),f(!1),v({})):A().fire("Xatolik",e.error,"error")})(r)}catch(e){console.error("Error from handleSave from add Course: ",e)}},children:"Qo'shish"})]})]})]})}}}]);